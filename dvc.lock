schema: '2.0'
stages:
  prepare:
    cmd: python3 src/prepare.py
    deps:
    - path: data/mnist/raw
      md5: b6c29e96813679dd8c451c9b5ca86e2c.dir
      size: 11594722
      nfiles: 4
    - path: src/prepare.py
      md5: dda007b7d72ac1964ce279cba9d41778
      size: 3825
    params:
      params.yaml:
        prepare.remix: false
        prepare.remix_split: 0.2
        prepare.seed: 20210428
    outs:
    - path: data/mnist/prepared
      md5: cd35e4ee1528a9e57daf4f7affdb7fe6.dir
      size: 54951020
      nfiles: 2
  preprocess:
    cmd: python3 src/preprocess.py
    deps:
    - path: data/mnist/prepared/
      md5: cd35e4ee1528a9e57daf4f7affdb7fe6.dir
      size: 54951020
      nfiles: 2
    - path: src/preprocess.py
      md5: 35d98464ddade41429cdd09fc1588641
      size: 2323
    params:
      params.yaml:
        preprocess.add_noise: false
        preprocess.noise_amount: 0.0004
        preprocess.noise_s_vs_p: 0.5
        preprocess.normalize: true
        preprocess.seed: 20210428
        preprocess.shuffle: false
    outs:
    - path: data/mnist/preprocessed/
      md5: 6b4943a36fba46ed1183f2c1970e7f5f.dir
      size: 441841020
      nfiles: 2
